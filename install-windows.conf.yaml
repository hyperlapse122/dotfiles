- defaults:
    link:
      create: true
      force: true
      relink: true
      type: hardlink

- shell:
  - ["pwsh -NoProfile -ExecutionPolicy Bypass -File ./Set-Environment.ps1", Running Windows setup script]

- shell:
  - [git submodule update --init --recursive, Installing submodules]
  - [pwsh -NoProfile -ExecutionPolicy Bypass -File ./winget/Install.ps1, Installing applications]

- link:
    "~/.gitconfig":
      path: git/windows.gitconfig
    ~/AppData/Roaming/gnupg/:
      glob: true
      path: gnupg-windows/**
    ~/.config/mise/config.toml:
      path: mise/config.toml
    "~":
      glob: true
      path: mise/.default-**
    ~/AppData/Roaming/Code/User/:
      glob: true
      path: vscode/*.json

# - windows:
#     fonts:
#       path: "fonts/JetBrainsMono/fonts/"

# - windows:
#     fonts:
#       path: "fonts/pretendard/packages/"

- shell:
  - [pwsh -ExecutionPolicy Bypass -File vscode/install.ps1, Installing VSCode extensions]
  # - [pwsh -ExecutionPolicy Bypass -File ImportGpgKeys.ps1, Installing GPG keys]
  # - [pwsh -NoProfile -ExecutionPolicy Bypass -File ./fonts/InstallNerdFonts.ps1, Installing fonts]
