- shell:
  - [git submodule update --init --recursive, Installing submodules]
  - ['winget install GnuWin32.Bison GnuWin32.Cpio GnuWin32.DiffUtils GnuWin32.File GnuWin32.GetText GnuWin32.Grep GnuWin32.Gzip GnuWin32.M4 GnuWin32.Make GnuWin32.UnZip GnuWin32.Zip GnuWin32.FindUtils GnuWin32.Gperf GnuWin32.Patch GnuWin32.Tar GnuWin32.Tree GnuWin32.Which', 'Installing GNU utils...']

- defaults:
    link:
      create: true
      force: true
      relink: true
  link:
    "~/":
      glob: true
      path: home/.*
    ~/.local/:
      glob: true
      path: dotlocal/**/*
    ~/.gemini/:
      glob: true
      path: dotgemini/**/*
    ~/.claude/:
      glob: true
      path: dotclaude/**/*
    ~/.config:
      glob: true
      path: dotconfig/**/*
    ~/AppData/Roaming/gnupg/:
      glob: true
      path: gnupg-windows/**
    ~/.ssh/:
      glob: true
      path: dotssh/**/*
    ~/AppData/Roaming/Code/User/:
      glob: true
      path: dotconfig/Code/User/*.json
    ~/AppData/Roaming/Antigravity/User/:
      glob: true
      path: dotconfig/Code/User/*.json
    ~/AppData/Local/Packages/Microsoft.WindowsTerminal_8wekyb3d8bbwe/LocalState/:
      glob: true
      path: windows/terminal/*.json
    ~/AppData/Local/1Password/config/ssh/agent.toml:
      path: dotconfig/1Password/ssh/agent.toml
    ~/.local/bin/dotnet-install.ps1:
      path: dotnet/dotnet-install.ps1
    ~/.gitconfig.d/windows.gitconfig:
      path: gitconfig.d/windows.gitconfig

# - windows:
#     fonts:
#       path: "fonts/JetBrainsMono/fonts/"

# - windows:
#     fonts:
#       path: "fonts/pretendard/packages/"

- shell:
  - [pwsh -ExecutionPolicy Bypass -File vscode/install.ps1, Installing VSCode extensions]
  - ["pwsh -c \"irm https://claude.ai/install.ps1 | iex\"", Installing Claude Code]
  # - [pwsh -ExecutionPolicy Bypass -File ImportGpgKeys.ps1, Installing GPG keys]
  # - [pwsh -NoProfile -ExecutionPolicy Bypass -File ./fonts/InstallNerdFonts.ps1, Installing fonts]
