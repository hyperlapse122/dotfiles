- defaults:
    link:
      create: true
      force: true
      relink: true

- shell:
  - ["pwsh -NoProfile -ExecutionPolicy Bypass -File ./Set-Environment.ps1", Running Windows setup script]

- shell:
  - [git submodule update --init --recursive, Installing submodules]

- link:
    "~/.gitconfig":
      path: git/windows.gitconfig
    ~/AppData/Roaming/gnupg/:
      glob: true
      path: gnupg-windows/**
    ~/.config:
      glob: true
      path: dotconfig/**/*
    ~/.ssh/:
      glob: true
      path: dotssh/**/*
    "~":
      glob: true
      path: mise/.default-**
    ~/AppData/Roaming/Code/User/:
      glob: true
      path: dotconfig/Code/User/*.json
    ~/AppData/Roaming/Antigravity/User/:
      glob: true
      path: dotconfig/Code/User/*.json
    ~/AppData/Local/Packages/Microsoft.WindowsTerminal_8wekyb3d8bbwe/LocalState/:
      glob: true
      path: windows/terminal/*.json
    ~/AppData/Local/1Password/config/ssh/agent.toml:
      path: dotconfig/1Password/ssh/agent.toml
    ~/.local/bin/dotnet-install.ps1:
      path: dotnet/dotnet-install.ps1

# - windows:
#     fonts:
#       path: "fonts/JetBrainsMono/fonts/"

# - windows:
#     fonts:
#       path: "fonts/pretendard/packages/"

- shell:
  - [pwsh -ExecutionPolicy Bypass -File vscode/install.ps1, Installing VSCode extensions]
  # - [pwsh -ExecutionPolicy Bypass -File ImportGpgKeys.ps1, Installing GPG keys]
  # - [pwsh -NoProfile -ExecutionPolicy Bypass -File ./fonts/InstallNerdFonts.ps1, Installing fonts]
