- defaults:
    link:
      relink: true
      create: true
      force: true
  link:
    "~":
      glob: true
      path: home/.*
    ~/.claude/:
      glob: true
      path: dotclaude/**/*
    ~/.codex/:
      glob: true
      path: dotcodex/**/*
    ~/.config/:
      glob: true
      path: dotconfig/**/*
    ~/.gemini/:
      glob: true
      path: dotgemini/**/*
    ~/.ssh/:
      glob: true
      path: dotssh/**/*
    ~/.local/:
      glob: true
      path: dotlocal/**/*
    ~/.local/bin/dotnet-install:
      path: dotnet/dotnet-install.sh

# Linux-specific configuration. This is separate from the main configuration to avoid issues with symlinks on non-Linux systems.
- defaults:
    link:
      relink: true
      create: true
      force: true
  link:
    ~/.gnupg/:
      if: "[ `uname` = Linux ]"
      glob: true
      path: gnupg/**
    ~/.gitconfig.d/linux.gitconfig:
      if: "[ `uname` = Linux ]"
      path: gitconfig.d/linux.gitconfig

# macOS-specific configuration. This is separate from the main configuration to avoid issues with symlinks on non-macOS systems.
- defaults:
    link:
      relink: true
      create: true
      force: true
  link:
    ~/.ssh/:
      if: "[ `uname` = Darwin ]"
      glob: true
      path: dotssh-macos/**/*
    ~/Library/Application Support/Code/User/:
      if: "[ `uname` = Darwin ]"
      glob: true
      path: dotconfig/Code/User/**
    ~/.gnupg/:
      if: "[ `uname` = Darwin ]"
      glob: true
      path: gnupg-macos/**
    ~/.gitconfig.d/macos.gitconfig:
      if: "[ `uname` = Darwin ]"
      path: gitconfig.d/macos.gitconfig

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - [~/.dotnet/dotnet tool install -g git-credential-manager, Install GCM]
    - [~/.dotnet/dotnet tool update -g git-credential-manager, Update GCM]
    - [~/.dotnet/dotnet tool install -g powershell, Install PowerShell]
    - [~/.dotnet/dotnet tool update -g powershell, Update PowerShell]
# - shell:
#   - [git clone --recursive https://github.com/sorin-ionescu/prezto.git ~/.zprezto, Cloning Prezto]
